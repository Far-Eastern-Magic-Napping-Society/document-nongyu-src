# 部署到 GitHub Pages 说明

## ✅ 已完成的配置

您的网站已经配置为部署到 `https://nongzhuan555.github.io/`

### 更新的配置项：

1. **网站URL配置**
   ```javascript
   url: 'https://nongzhuan555.github.io/'
   baseUrl: '/'
   ```

2. **GitHub 配置**
   ```javascript
   organizationName: 'nongzhuan555'
   projectName: 'nongzhuan555.github.io'
   ```

3. **编辑链接**
   - 文档编辑：`https://github.com/tkzzzzzz6/document-nongyu-src/tree/main/`
   - 博客编辑：`https://github.com/tkzzzzzz6/document-nongyu-src/tree/main/`

4. **导航和页脚链接**
   - GitHub链接指向：`https://github.com/tkzzzzzz6/document-nongyu-src`

## 📦 部署方法

### 方法一：使用 Docusaurus 内置部署命令（推荐用于 GitHub Pages）

```bash
# 设置 Git 用户信息（如果还没设置）
git config user.name "您的GitHub用户名"
git config user.email "您的GitHub邮箱"

# 部署到 GitHub Pages
npm run deploy
```

**注意**：
- 这会自动构建项目并推送到 `gh-pages` 分支
- 确保您的 GitHub 仓库设置中启用了 GitHub Pages，并选择 `gh-pages` 分支作为源

### 方法二：使用 EdgeOne Pages

如果您想部署到 EdgeOne Pages（腾讯云的静态网站托管服务）：

```bash
# 1. 构建项目
npm run build

# 2. 使用 EdgeOne Pages MCP 工具部署（已集成）
# 这会打开浏览器进行OAuth认证，然后自动部署
```

EdgeOne Pages 的优势：
- ✅ 全球CDN加速
- ✅ 自动HTTPS
- ✅ 快速部署
- ✅ 国内访问速度快

### 方法三：手动部署

```bash
# 1. 构建项目
npm run build

# 2. build 目录的内容就是静态网站文件
# 可以上传到任何静态网站托管服务：
# - GitHub Pages
# - Netlify
# - Vercel
# - Cloudflare Pages
# - EdgeOne Pages
# 等等
```

## 🔧 GitHub Pages 设置步骤

1. **在 GitHub 仓库中启用 Pages**
   - 进入仓库设置：`https://github.com/nongzhuan555/nongzhuan555.github.io/settings/pages`
   - Source: 选择 `gh-pages` 分支
   - 点击 Save

2. **检查部署状态**
   - 访问 Actions 标签查看部署进度
   - 部署完成后访问：`https://nongzhuan555.github.io/`

## 🚀 快速部署命令

```bash
# 一键构建并部署到 GitHub Pages
npm run deploy

# 或者分步执行
npm run build    # 构建
npm run serve    # 本地预览构建结果
```

## 📝 注意事项

1. **首次部署**
   - 如果是首次使用 `npm run deploy`，可能需要配置 SSH 密钥或 HTTPS 凭证
   - 确保有推送权限到对应仓库

2. **自定义域名**
   - 如果要使用自定义域名，需要在仓库根目录添加 `static/CNAME` 文件
   - 内容为您的域名，如：`www.example.com`

3. **部署环境变量**
   ```bash
   # 如需使用不同的 GitHub 账户部署
   GIT_USER=<Your GitHub username> npm run deploy
   ```

## 🌐 访问您的网站

部署成功后，访问：
- **主站**：https://nongzhuan555.github.io/
- **中文版**：https://nongzhuan555.github.io/zh/
- **英文版**：https://nongzhuan555.github.io/en/（如果有）

## 💡 推荐工作流

```bash
# 1. 本地开发
npm start

# 2. 预览构建结果
npm run build
npm run serve

# 3. 确认无误后部署
npm run deploy

# 4. 等待几分钟后访问网站
```

## 🔄 持续部署（CI/CD）

您也可以配置 GitHub Actions 自动部署：

创建 `.github/workflows/deploy.yml`：

```yaml
name: Deploy to GitHub Pages

on:
  push:
    branches:
      - main

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: 20
      
      - name: Install dependencies
        run: npm ci
      
      - name: Build website
        run: npm run build
      
      - name: Deploy to GitHub Pages
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./build
```

这样每次推送到 `main` 分支时，网站会自动构建和部署。
